# Pentesting

Here I want to list a collection of cheat sheets I follow when trying to attack a service or a machine.

## Basic pentesting

A good example to follow is this room from TryHackMe: [Basic Pentesting](https://tryhackme.com/room/basicpentestingjt)

On a vulnerable machine, I usually start by scanning for exposed services and ports using `nmap`:

```sh
// -sC: default scripts
// -sV: version detection
// -oN: redirect to file
nmap -sC -sV -oN nmap/initial 10.10.100.180
```

In the case of a web server, I usually follw-up with `gobuster` and/or `dirbuster` to find available paths:

```sh
// -w: wordlist for brute-force
gobuster -w /opt/DirBuster-0.12/directory-list-2.3-medium.tt -u http//10.10.100.180/
```

In the case of an SMB or NFS server, I usually follow-up with `enum4linux` to find information like available shares and users, printers ..etc: 

```sh
// -a: all scans
/opt/enum4linux/enum4linux.pl -a 10.10.100.180
```

After finding a couple of user names, and in the case SSH is open, we can use `hydra` to brute-force the password using a wordlist:

```sh
// -l: user name
// -p: password list from a file
hyra -l jan -P /opt/rockyou.txt ssh//10.10.100.180/
```

If you gain SSH access to the machine, a nice tool to find vectors of privilege escalation is `linpeas` or `linenum`:

```sh
./linpeas.sh
```